---
title: "RHEL ê³„ì—´ ë¦¬ëˆ…ìŠ¤ì—ì„œì˜ Systemdì™€ ë¡œê·¸ ê´€ë¦¬ ì´í•´í•˜ê¸°"
excerpt: ""
categories:
  - Linux
tags:
  - Log_Management
  - Systemd
toc: true
toc_sticky: true
last_modified_at: 2025-04-07
---

## ğŸ“Œ 1. systemdë€?

`systemd`ëŠ” í˜„ëŒ€ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì—ì„œ ì‚¬ìš©í•˜ëŠ” **init ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤. ë¶€íŒ… ì‹œ í”„ë¡œì„¸ìŠ¤ì™€ ì„œë¹„ìŠ¤ì˜ ì´ˆê¸°í™”ë¥¼ ë‹´ë‹¹í•˜ë©°, ê¸°ì¡´ `SysVinit` ì‹œìŠ¤í…œì„ ëŒ€ì²´í•©ë‹ˆë‹¤.

### ğŸ”¹ ì£¼ìš” íŠ¹ì§•
- ë³‘ë ¬ ì„œë¹„ìŠ¤ ì‹œì‘ (ë¶€íŒ… ì†ë„ í–¥ìƒ)
- `unit` íŒŒì¼ ê¸°ë°˜ì˜ êµ¬ì„±
- ì„œë¹„ìŠ¤ ìƒíƒœ ê´€ë¦¬ (`active`, `failed` ë“±)
- ë¡œê·¸ ìˆ˜ì§‘ í†µí•© (`journald`)

---

## ğŸ“‚ systemd ì£¼ìš” êµ¬ì„±ìš”ì†Œ

| ìš”ì†Œ                         | ì„¤ëª…                                                |
|----------------------------|---------------------------------------------------|
| `systemctl`                | systemd ì œì–´ ëª…ë ¹ì–´                                    |
| `journalctl`               | ë¡œê·¸ í™•ì¸ ë„êµ¬                                          |
| `unit`                     | ì„œë¹„ìŠ¤ ë‹¨ìœ„ ì„¤ì • íŒŒì¼ (`.service`, `.socket`, `.target` ë“±) |
| `/etc/systemd/system/`     | ì‚¬ìš©ì ì •ì˜ ìœ ë‹› íŒŒì¼ ìœ„ì¹˜                                   |
| `/run/systemd/system/`     | ì‹¤í–‰ ì¤‘ ìƒì„±ëœ ìœ ë‹› íŒŒì¼ ìœ„ì¹˜                                 |
| `/usr/lib/systemd/system/` | ê¸°ë³¸ ìœ ë‹› íŒŒì¼ ìœ„ì¹˜                                       |

---

## ğŸ§ª ìì£¼ ì‚¬ìš©í•˜ëŠ” systemctl ëª…ë ¹ì–´

```bash
# ì„œë¹„ìŠ¤ ì‹œì‘/ì¤‘ì§€/ì¬ì‹œì‘
sudo systemctl start nginx
sudo systemctl stop nginx
sudo systemctl restart nginx

# ì„œë¹„ìŠ¤ í™œì„±í™”/ë¹„í™œì„±í™” (ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì—¬ë¶€)
sudo systemctl enable nginx
sudo systemctl disable nginx

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
systemctl status nginx

# ëª¨ë“  ì„œë¹„ìŠ¤ í™•ì¸
systemctl list-units --type=service
```

---

## ğŸ“ Unit íŒŒì¼ ê¸°ë³¸ êµ¬ì¡° (ì˜ˆ: `nginx.service`)
```ini
[Unit]
Description=The NGINX HTTP and reverse proxy server
After=network.target

[Service]
ExecStart=/usr/sbin/nginx
ExecReload=/bin/kill -s HUP $MAINPID
ExecStop=/bin/kill -s QUIT $MAINPID
Type=forking

[Install]
WantedBy=multi-user.target
```

---

## ğŸ“Œ 2. ë¦¬ëˆ…ìŠ¤ ë¡œê·¸ ê´€ë¦¬

ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì˜ ë¡œê·¸ëŠ” ë³´ì•ˆ, íŠ¸ëŸ¬ë¸”ìŠˆíŒ…, ëª¨ë‹ˆí„°ë§ì—ì„œ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. RHEL ê³„ì—´ì—ì„œëŠ” `rsyslog`ì™€ `journald`ê°€ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## ğŸ—‚ï¸ ë¡œê·¸ ì €ì¥ ìœ„ì¹˜

| íŒŒì¼ ê²½ë¡œ | ì„¤ëª… |
|-----------|------|
| `/var/log/messages` | ì‹œìŠ¤í…œ ì „ë°˜ ë¡œê·¸ |
| `/var/log/secure` | ì¸ì¦ ê´€ë ¨ ë¡œê·¸ |
| `/var/log/cron` | í¬ë¡  ì‘ì—… ë¡œê·¸ |
| `/var/log/dmesg` | ì»¤ë„ ë¶€íŒ… ë©”ì‹œì§€ |
| `/var/log/httpd/` | Apache ë¡œê·¸ |
| `/var/log/audit/` | SELinux ë° ë³´ì•ˆ ê°ì‚¬ ë¡œê·¸ (auditd) |

---

## ğŸ” ë¡œê·¸ í™•ì¸ ëª…ë ¹ì–´

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
tail -f /var/log/messages

# íŠ¹ì • ë¡œê·¸ ê²€ìƒ‰
grep "error" /var/log/messages

# ì „ì²´ ë¡œê·¸ êµ¬ì¡° ë³´ê¸°
ls /var/log/
```

---

## ğŸ§¾ rsyslog vs journald

| í•­ëª© | rsyslog | journald |
|------|---------|----------|
| ë¡œê·¸ íŒŒì¼ ì €ì¥ | O (`/var/log/*`) | O (`/run/log/journal` ë“±) |
| í¬ë§· | í…ìŠ¤íŠ¸ ê¸°ë°˜ | ë°”ì´ë„ˆë¦¬ í¬ë§· |
| í•„í„°ë§ ê¸°ëŠ¥ | O | O (journalctl ì‚¬ìš©) |
| ë„¤íŠ¸ì›Œí¬ ì „ì†¡ | O | ì œí•œì  |
| êµ¬ì„± íŒŒì¼ | `/etc/rsyslog.conf` | `/etc/systemd/journald.conf` |

---

## ğŸ§ª journalctl ì‹¤ìŠµ ì˜ˆì‹œ

```bash
# ì „ì²´ ë¡œê·¸ ì¶œë ¥
journalctl

# ë¶€íŒ… ì´í›„ ë¡œê·¸
journalctl -b

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸
journalctl -u nginx.service

# ìµœê·¼ ë¡œê·¸ Nì¤„
journalctl -n 50

# ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
journalctl -f
```

---

## ğŸ“Œ ë¡œê·¸ ê´€ë¦¬ íŒ

- ë””ìŠ¤í¬ ìš©ëŸ‰ ë¶€ì¡± ë°©ì§€ë¥¼ ìœ„í•´ ë¡œê·¸ ë¡œí…Œì´ì…˜(`logrotate`) ì„¤ì •ì„ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸
- ë¡œê·¸ ë¬´ê²°ì„± ë° ì¤‘ì•™ ë¡œê·¸ ì„œë²„ ì—°ë™ ì‹œ `rsyslog` ë˜ëŠ” `auditd` ì„¤ì • ë³‘í–‰
- SELinux í™œì„±í™” ì‹œ `/var/log/audit/audit.log` í™•ì¸ í•„ìˆ˜

---

## âœ… ë§ˆë¬´ë¦¬ ì •ë¦¬

| í•­ëª© | í•µì‹¬ ìš”ì•½ |
|------|-----------|
| systemd | ì„œë¹„ìŠ¤ ê´€ë¦¬ ë° ë¶€íŒ… ì œì–´ ì‹œìŠ¤í…œ |
| systemctl | ì„œë¹„ìŠ¤ ìƒíƒœ, ì‹¤í–‰, ìë™ ì‹œì‘ ì„¤ì • ë„êµ¬ |
| rsyslog | ì „í†µì ì¸ ë¡œê·¸ íŒŒì¼ ê¸°ë¡ ì‹œìŠ¤í…œ |
| journald | systemd ê¸°ë°˜ ë¡œê·¸ ìˆ˜ì§‘ ë„êµ¬ |
| journalctl | ë¡œê·¸ ê²€ìƒ‰, ì‹¤ì‹œê°„ í™•ì¸ ê°€ëŠ¥ |

