---
title: "Autofsë¥¼ í™œìš©í•œ NFS ì„œë²„ êµ¬ì„±"
excerpt: ""
categories:
  - Linux 
tags:
  - NFS
toc: true
toc_sticky: true
last_modified_at: 2025-04-13
---

NFS (Network File System)ëŠ” ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ë„ë¦¬ ì“°ì´ëŠ” ë„¤íŠ¸ì›Œí¬ íŒŒì¼ ê³µìœ  ë°©ì‹ì…ë‹ˆë‹¤. 
í•˜ì§€ë§Œ ê³µìœ  ë””ë ‰í„°ë¦¬ë¥¼ í•­ìƒ ë§ˆìš´íŠ¸í•´ë‘ë©´ ì‹œìŠ¤í…œ ìì›ì„ ë¶ˆí•„ìš”í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì´ëŸ´ ë•Œ ìœ ìš©í•œ ë„êµ¬ê°€ ë°”ë¡œ `Autofs`ì…ë‹ˆë‹¤.

ë³¸ í¬ìŠ¤íŒ…ì—ì„œëŠ” Autofsë¥¼ í™œìš©í•´ NFS ë””ë ‰í„°ë¦¬ë¥¼ ìë™ ë§ˆìš´íŠ¸í•˜ëŠ” êµ¬ì„± ë°©ë²•ì„ ì‹¤ìŠµ í™˜ê²½ ê¸°ì¤€ìœ¼ë¡œ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

---

## ğŸ§± í™˜ê²½ ì •ë³´

| êµ¬ë¶„           | ì„¤ì •                 |       
|:-------------|:-------------------|
| NFS ì„œë²„ IP    | 192.168.56.11      |       
| ê³µìœ  ë””ë ‰í„°ë¦¬      | /srv/share         |       
| í´ë¼ì´ì–¸íŠ¸ ë§ˆìš´íŠ¸ ì§€ì  | /mnt/nfs           |       
| ì‚¬ìš©ì ì´ë¦„       | devuser (UID 1001) |       

---

## ğŸ“¦ 1. NFS ì„œë²„ ì„¤ì •

### â‘  ê³µìœ  ë””ë ‰í† ë¦¬ ìƒì„± ë° ê¶Œí•œ ì„¤ì •

```bash
sudo mkdir -p /srv/share
sudo chown 1001:1001 /srv/share
sudo chmod 755 /srv/share
```
- devuser ì‚¬ìš©ìì—ê²Œ ì“°ê¸° ê¶Œí•œì„ ì£¼ê¸° ìœ„í•´ UID 1001ë¡œ ì†Œìœ ì ì„¤ì •

### â‘¡ /etc/exports ì„¤ì •

```bash
sudo vi /etc/exports
````
```bash
/srv/share 192.168.56.0/24(rw,sync,no_subtree_check)
```
**ì„¤ì • ì ìš©:**
```bash
sudo exports -ra
```

### â‘¢ NFS ì„œë¹„ìŠ¤ ì‹¤í–‰ ë° ë°©í™”ë²½ ì„¤ì •

```bash
sudo systemctl enable --now nfs-server               # ì„œë¹„ìŠ¤ ì‹¤í–‰ ë° ì¬ë¶€íŒ… í›„ ìë™ í™œì„±í™”
sudo firewall-cmd --permanent --add-service=nfs      # ì„œë¹„ìŠ¤ ë“±ë¡(í¬íŠ¸ ì„¤ì •ê³¼ ë™ì¼)
sudo firewall-cmd --reload                           # ë°©í™”ë²½ ì„¤ì • ì ìš©
```

## ğŸ–¥ï¸ 2. í´ë¼ì´ì–¸íŠ¸ ì„¤ì • (Autofs ì‚¬ìš©)

### â‘  Autofs ì„¤ì¹˜

```bash
sudo dnf install -y autofs
```

### â‘¡ Autofs ë©”ì¸ ì„¤ì •

```bash
sudo vi /etc/auto.master.d/nfs.autofs
```
```bash
/-         /etc/auto.direct
```
- `/-`ëŠ” Direct Map ë°©ì‹ ì‚¬ìš©ì„ ì˜ë¯¸ -> ì ˆëŒ€ ê²½ë¡œë¡œ ì§ì ‘ ë§ˆìš´íŠ¸ ì§€ì •

### â‘¢ ë§ˆìš´íŠ¸ ëŒ€ìƒ ì •ì˜

```bash
sudo vi /etc/auto.direct
```
```bash
/mnt/nfs        -rw,sync     192.168.56.11:/srv/share
```
> /mnt/nfs ë””ë ‰í„°ë¦¬ì— ì ‘ê·¼ ì‹œ ìë™ìœ¼ë¡œ ë§ˆìš´íŠ¸ë¨

### â‘£ Autofs ì„œë¹„ìŠ¤ ì‹œì‘

```bash
sudo systemctl enable --now autofs
```