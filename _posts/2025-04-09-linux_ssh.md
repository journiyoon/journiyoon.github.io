---
title: "π” SSH μ ‘μ†μΌλ΅ μ΄ν•΄ν•λ” λ€μΉ­ν‚¤μ™€ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹"
excerpt: "ν¬μ¤νΈ μ”μ•½ - λ©λ΅ νμ΄μ§€μ— ν‘μ‹λ©λ‹λ‹¤"
categories:
  - Category1
tags:
  - Tag1
  - Tag2
  - Tag3
toc: true
toc_sticky: true
last_modified_at: YYYY-MM-DD
---

SSHλ” λ¦¬λ…μ¤ μ„λ²„μ— μ ‘μ†ν•  λ• λ§μ΄ μ‚¬μ©ν•λ” μ›κ²© μ ‘μ† λ°©μ‹μ…λ‹λ‹¤. 
telnetκ³Ό λ‹¬λ¦¬, λ¨λ“  ν†µμ‹ μ„ μ•”νΈν™”ν•κΈ° λ•λ¬Έμ— μ¤‘μ”ν• λ³΄μ• ν”„λ΅ν† μ½μ…λ‹λ‹¤. 
κ·Έλ°λ° μ΄ SSH μ ‘μ† μ•μ—λ” λ€μΉ­ν‚¤μ™€ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ΄ λ¨λ‘ μ‚¬μ©λ©λ‹λ‹¤. 
λ³Έ ν¬μ¤ν…μ„ ν†µν•΄ SSH μ ‘μ†νλ¦„μ„ λ”°λΌκ°€λ©°, μμ—°μ¤λ½κ² μ•”νΈν™” κ°λ…μ„ μ΄ν•΄ν•΄λ³΄κ² μµλ‹λ‹¤.

---

## μ•”νΈν™”μ λ‘ μ¶•: λ€μΉ­ν‚¤ vs λΉ„λ€μΉ­ν‚¤

| κµ¬λ¶„   | λ€μΉ­ν‚¤ μ•”νΈν™”      | λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”       |
|:-----|:-------------|:---------------|
| ν‚¤    | ν•λ‚μ ν‚¤λ΅ μ•”/λ³µνΈν™” | κ³µκ°ν‚¤-κ°μΈν‚¤ ν• μ μ‚¬μ© |
| μ†λ„   | λΉ λ¦„           | λλ¦Ό             |
| λ³΄μ•μ„±  | ν‚¤ μ μ¶ μ„ν— μμ   | μ•μ „ν•¨            |
| μ‚¬μ© μ | μ‹¤μ  λ°μ΄ν„° μ „μ†΅    | μΈμ¦, ν‚¤ κµν™       |

> SSH λ” μ΄ λ‘ κ°€μ§€ λ°©μ‹μ„ μ΅°ν•©ν•΄μ„ μ‚¬μ©ν•©λ‹λ‹¤.

## SSH μ ‘μ† νλ¦„μΌλ΅ λ³΄λ” μ•”νΈν™” λ°©μ‹

### 1. ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„ μ ‘μ† μ”μ²­

```bash
ssh testuser@192.168.1.100
```
- ν΄λΌμ΄μ–ΈνΈλ” SSH ν¬νΈλ¥Ό ν†µν•΄ μ„λ²„μ— μ—°κ²°μ„ μ‹λ„ν•¨

### 2. μ„λ²„ μΈμ¦ (λΉ„λ€μΉ­ν‚¤ μ‚¬μ©) - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ "μ‹ μ›"μ„ ν™•μΈν•λ” κ³Όμ •

- μ„λ²„λ” μμ‹ μ νΈμ¤νΈ κ³µκ°ν‚¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬
- λ™μ‹μ—, νΉμ • λ©”μ‹μ§€μ— λ€ν•΄ νΈμ¤νΈ κ°μΈν‚¤λ΅ μ„λ…ν• κ²°κ³Όλ„ ν•¨κ» λ³΄λƒ„
- ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή μ„λ…μ΄ μ ν¨ν•μ§€μ§€ κ²€μ‚¬ν•΄μ„ "μ΄ μ„λ²„κ°€ μ§„μ§μΈκ°€?"λ¥Ό ν™•μΈν•¨

β… μ΄ λ• κ³µκ°ν‚¤κ°€ ν΄λΌμ΄μ–ΈνΈ λ΅μ»¬μ `~/.ssh/known_hosts` νμΌμ— λ“±λ΅λμ–΄ μμ–΄μ•Ό 'μ‹ λΆ°ν•  μ μλ” μ„λ²„'λ΅ μΈμ •ν•©λ‹λ‹¤.

> `known_hosts` λ€?
> - μ΄ νμΌμ€ ν΄λΌμ΄μ–ΈνΈκ°€ κ³Όκ±°μ— μ ‘μ†ν–λ μ„λ²„μ κ³µκ°ν‚¤ μ •λ³΄λ¥Ό μ €μ¥ν•΄ λ‘” λ΅μ»¬ DB
> - μ²μ μ ‘μ†ν•λ©΄ μ•„λμ™€ κ°™μ€ κ²½κ³ κ°€ λΉλ‹λ‹¤.
>```bash 
>    The authenticity of host '192.168.1.100 (192.168.1.100)' can't be established.
>    ED25519 key fingerprint is SHA256:abcxyz...
>    Are you sure you want to continue connecting (yes/no)?
>    ```
> - μ—¬κΈ°μ„ `yes`λ¥Ό μ…λ ¥ν•λ©΄ κ³µκ°ν‚¤κ°€ `known_hosts`μ— μ €μ¥λλ©°, λ‹¤μ μ ‘μ†λ¶€ν„°λ” κ³µκ°ν‚¤μ μΌμΉ μ—¬λ¶€λ¥Ό μλ™μΌλ΅ κ²€μ¦ν•©λ‹λ‹¤.

> π’¥ λ§μ•½ κ³µκ°ν‚¤κ°€ λ‹¤λ¥΄λ©΄?
> ```bash
>     WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
> ```
> - μ΄λ” μ¤‘κ°„μ κ³µκ²© κ°€λ¥μ„±μ„ μ•λ¦¬λ” κ²½κ³ μ…λ‹λ‹¤.
> - μ‹¤μ λ΅ μ„λ²„κ°€ λ³€κ²½λκ±°λ‚, λ„¤νΈμ›ν¬ μƒμ λ‹¤λ¥Έ κΈ°κΈ°κ°€ μ‚¬μΉ­ν•κ³  μμ„ μ μμµλ‹λ‹¤.

### 3. ν‚¤ κµν™ (λΉ„λ€μΉ­ν‚¤ μ‚¬μ© -> λ€μΉ­ν‚¤ μƒμ„±)

- μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” DH λλ” ECDH μ•κ³ λ¦¬μ¦μ„ ν†µν•΄ μ„Έμ…ν‚¤(λ€μΉ­ν‚¤)λ¥Ό μƒμ„±
- μ„λ΅ κ³µκ°ν‚¤λ§ μ£Όκ³ λ°›μ•„, μ™Έλ¶€μ—μ„ μ• μ μ—†λ” λ°©μ‹μΌλ΅ κ°™μ€ λ€μΉ­ν‚¤λ¥Ό λ§λ“¤μ–΄λƒ„

### 4. μ‚¬μ©μ μΈμ¦ (λΉ„λ€μΉ­ν‚¤ or λΉ„λ°€λ²νΈ)

κ³µκ°ν‚¤ κΈ°λ° μΈμ¦ κ³Όμ •
1. ν΄λΌμ΄μ–ΈνΈλ” μμ‹ μ κ³µκ°ν‚¤λ¥Ό μ„λ²„μ— λ³΄λƒ„
2. μ„λ²„λ” ν•΄λ‹Ή κ³µκ°ν‚¤κ°€ `~/.ssh/authorized_keys`μ— μλ”μ§€ ν™•μΈ
3. μμΌλ©΄ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ— challenge(λ‚μ)λ¥Ό λ³΄λƒ„
4. ν΄λΌμ΄μ–ΈνΈλ” κ·Έ challengeλ¥Ό μμ‹ μ κ°μΈν‚¤λ΅ μ„λ…ν•΄μ„ μ„λ²„μ— μ „λ‹¬
5. μ„λ²„λ” κ³µκ°ν‚¤λ΅ μ„λ…μ„ κ²€μ¦ν•κ³ , μΈμ¦μ΄ μ„±κ³µν•λ©΄ λ΅κ·ΈμΈ ν—μ©

> β… μ΄ κ³Όμ •μ€ ssh-copy-id λ…λ ΉμΌλ΅ κ³µκ°ν‚¤λ¥Ό μ‚¬μ „μ— λ“±λ΅ν•΄ λ‘μ–΄μ•Ό κ°€λ¥ν•©λ‹λ‹¤.

### 5. μ΄ν›„ ν†µμ‹  (λ€μΉ­ν‚¤ μ‚¬μ©)

- μ„μ—μ„ μƒμ„±λ μ„Έμ…ν‚¤(λ€μΉ­ν‚¤)λ¥Ό μ‚¬μ©ν•μ—¬ λ¨λ“  λ°μ΄ν„°κ°€ μ•”νΈν™”λμ–΄ μ „μ†΅
- μ΄ ν‚¤λ” λ©”λ¨λ¦¬μ—λ§ μ΅΄μ¬ν•λ©°, μ ‘μ† μΆ…λ£ μ‹ μ‚­μ 

> β… λ€μΉ­ν‚¤λ” μ†λ„κ°€ λΉ λ¥΄κΈ° λ•λ¬Έμ— μ‹¤μ  λ°μ΄ν„° μ „μ†΅μ—λ” κΌ­ ν•„μ”ν•©λ‹λ‹¤.

## μ •λ¦¬: SSHμ™€ μ•”νΈν™” κ°λ…μ μ—°κ²°

| SSH μ ‘μ† λ‹¨κ³„ | μ‚¬μ©λλ” μ•”νΈν™”                  | μ‚¬μ© λ©μ       |
|:----------|:--------------------------|:-----------|
| μ„λ²„ μΈμ¦     | λΉ„λ€μΉ­ν‚¤ (μ„λ²„ νΈμ¤νΈ ν‚¤)           | μ‹ μ› ν™•μΈ      |
| ν‚¤ κµν™      | λΉ„λ€μΉ­ν‚¤ (DH, ECDH) -> λ€μΉ­ν‚¤ μƒμ„± | μ•μ „ν• μ„Έμ…ν‚¤ κ³µμ  |
| μ‚¬μ©μ μΈμ¦    | λΉ„λ€μΉ­ν‚¤ (ν΄λΌμ΄μ–ΈνΈ κ³µκ°/κ°μΈν‚¤)       | λ΅κ·ΈμΈ μΈμ¦     |
| μ΄ν›„ ν†µμ‹      | λ€μΉ­ν‚¤                       | μ‹¤μ  λ°μ΄ν„° μ•”νΈν™” |